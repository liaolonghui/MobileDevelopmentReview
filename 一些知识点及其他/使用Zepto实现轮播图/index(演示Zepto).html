<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/index.css">
    <title></title>
  </head>
  <body>
    <div class="jd_layout">
      <!-- 搜索块 -->
      <div class="jd_search">
        <a href="#" class="jd_logo">
          <img src="./images/logo.jpg" alt="logo" width="56" height="30">
        </a>
        <form class="jd_searchBox">
          <span><img src="./images/scale.jpg" alt="scale"></span>
          <input type="text" name="search" placeholder="请输入商品名称">
        </form>
        <a href="#" class="jd_login">登录</a>
      </div>
      <!-- 轮播图 -->
      <div class="jd_banner">
        <ul class="jd_bannerImg clearfix">
          <li>
            <a href="javascript:;">
              <img src="./uploads/01.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/02.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/03.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/04.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/05.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/06.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/07.dpg" alt="">
            </a>
          </li>
          <li>
            <a href="javascript:;">
              <img src="./uploads/08.dpg" alt="">
            </a>
          </li>
        </ul>
        <ul class="jd_bannerIndicator">
          <li class="active"></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>
      <!-- 导航块 -->
      <div class="jd_nav">
        <ul class="clearfix">
          <li>
            <a href="#">
              <img src="./images/nav1.png" alt="">
              <p>京东商城</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/nav2.png" alt="">
              <p>数码家电</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/nav3.png" alt="">
              <p>京东服饰</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/nav4.png" alt="">
              <p>京东生鲜</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/nav5.png" alt="">
              <p>京东到家</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/06.webp" alt="">
              <p>充值缴费</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/07.webp" alt="">
              <p>9.9元拼</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/08.webp" alt="">
              <p>领券</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/09.webp" alt="">
              <p>领金贴</p>
            </a>
          </li>
          <li>
            <a href="#">
              <img src="./images/10.webp" alt="">
              <p>PLUS会员</p>
            </a>
          </li>
        </ul>
      </div>
      <!-- 产品块 -->
      <div class="jd_product">
        <div class="jd_productBox clearfix jd_sk">
          <div class="jd_pTip">
            <div class="jd_left f_left">
              <span class="jd_sk_icon f_left"></span>
              <span class="jd_sk_text f_left m_left10">掌上秒杀</span>
              <div class="jd_sk_time f_left m_left10">
                <span>0</span>
                <span>0</span>
                <span>:</span>
                <span>0</span>
                <span>0</span>
                <span>:</span>
                <span>0</span>
                <span>0</span>
              </div>
            </div>
            <div class="jd_right f_right m_right10">
              更多秒杀...
            </div>
          </div>
          <div class="jd_pContent clearfix">
            <ul>
              <li>
                <a href="javascript:;">
                  <img src="./uploads/sk1.webp" alt="">
                </a>
                <p>&yen;100:00</p>
                <p>&yen;170:00</p>
              </li>
              <li>
                <a href="javascript:;">
                  <img src="./uploads/sk1.webp" alt="">
                </a>
                <p>&yen;100:00</p>
                <p>&yen;170:00</p>
              </li>
              <li>
                <a href="javascript:;">
                  <img src="./uploads/sk1.webp" alt="">
                </a>
                <p>&yen;100:00</p>
                <p>&yen;170:00</p>
              </li>
            </ul>
          </div>
        </div>
        <div class="jd_productBox">
          <div class="jd_pTip">
            <h3>京东超市</h3>
          </div>
          <div class="jd_pContent clearfix">
            <a href="javascript:;" class="a_50 f_left">
              <img src="./uploads/cp0.jpg" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_left b_bottom b_left">
              <img src="./uploads/cp1.dpg" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_left b_left">
              <img src="./uploads/cp2.dpg" alt="">
            </a>
          </div>
        </div>
        <div class="jd_productBox">
          <div class="jd_pTip">
            <h3>沙雕表情包</h3>
          </div>
          <div class="jd_pContent clearfix">
            <a href="javascript:;" class="a_50 f_left b_right b_bottom">
              <img src="./uploads/cp4.jpg" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_right">
              <img src="./uploads/cp6.gif" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_left b_right">
              <img src="./uploads/cp5.jpg" alt="">
            </a>
          </div>
        </div>
        <div class="jd_productBox">
          <div class="jd_pTip">
            <h3>美女图</h3>
          </div>
          <div class="jd_pContent clearfix">
            <a href="javascript:;" class="a_50 f_left">
              <img src="./uploads/cp7.jpg" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_left b_bottom b_left">
              <img src="./uploads/cp8.jpg" alt="">
            </a>
            <a href="javascript:;" class="a_50 f_left b_left">
              <img src="./uploads/cp9.jpg" alt="">
            </a>
          </div>
        </div>
      </div>
    </div>

    <script src="./js/zepto-master/dist/zepto.js" charset="utf-8"></script>
    <!-- 为了支持和jquery类似的选择器，得引入一个新的js文件 -->
    <!-- <script src="./js/zepto-master/src/selector.js" charset="utf-8"></script> -->
    <!-- 引入fx.js  含有animate()方法 -->
    <!-- <script src="./js/zepto-master/src/fx.js" charset="utf-8"></script> -->
    <!-- touch模块 含有以下事件  tap   singleTap  doubleTap  longTap  swipe  swipeLeft swipeRight swipeDown swipeUp  -->
    <!-- 使用on和off添加事件 -->
    <!-- <script src="./js/zepto-master/src/touch.js" charset="utf-8"></script> -->
    <script type="text/javascript">
      // 使用Zepto实现轮播图
      $(function(){
        //轮播图元素
        var banner = $('.jd_banner');
        var bannerWidth = banner.width();
        //图片盒子
        var imgBox = banner.find('ul:first-of-type');
        //获取点标记
        var indicators = banner.find('ul:eq(1)').find('li');
        //首尾两张图
        var first = imgBox.find('li:first-of-type');
        var last = imgBox.find('li:last-of-type');
        imgBox.append(first.clone());
        imgBox.prepend(last.clone());
        //插入到最前面也可以用下面这方法
        //last.clone().insertBefore(first);

        //设置图片盒子的宽度以及li标签的宽度
        var lis = imgBox.find('li');
        var count = lis.length;
        imgBox.width(count*bannerWidth);
        lis.each(function(index, value){
          //别忘了要转为zepto对象才能使用zepto方法
          $(lis[index]).width(bannerWidth);
        });
        //设置默认的偏移
        imgBox.css('left',-bannerWidth);

        var timer = null;
        //设置图片索引index
        var index = 1;
        //轮番图动画
        var imgAnimation = function(){
          imgBox.animate(
            {"left":-index*bannerWidth},
            500,
            "ease-in-out",
            function(){
              //动画执行完毕后执行 判断当前索引位置是否是最后一张或第一张
              if(index == count-1){
                index = 1;
                imgBox.css("left",-index*bannerWidth);
              }else if(index == 0){
                index = count-2;
                imgBox.css("left",-index*bannerWidth);
              }
              //设置点标记
              indicators.removeClass("active").eq(index-1).addClass("active");
            }
          );
        }

        //开启定时器
        timer = setInterval(function(){
          index++;
          //使用animate()，就不用使用css3的过渡效果了
          //4个参数，1是需要添加动画效果的样式  2是动画的耗时  3是速度函数  4是回调
          imgAnimation();
        },2000);

        // 添加滑动事件
        //在谷歌浏览器模拟器中无法正确触发swipe相关事件，可以触发tap事件。
        imgBox.on("swipeLeft",function(){
          clearInterval(timer);
          index++;
          imgAnimation();
          //延迟开启
          setTimeout(function(){
            timer = setInterval(function(){
              index++;
              //使用animate()，就不用使用css3的过渡效果了
              //4个参数，1是需要添加动画效果的样式  2是动画的耗时  3是速度函数  4是回调
              imgAnimation();
            },2000);
          },500);
        });
        imgBox.on("swipeRight",function(){
          clearInterval(timer);
          index--;
          imgAnimation();
          //延迟开启
          setTimeout(function(){
            timer = setInterval(function(){
              index++;
              //使用animate()，就不用使用css3的过渡效果了
              //4个参数，1是需要添加动画效果的样式  2是动画的耗时  3是速度函数  4是回调
              imgAnimation();
            },2000);
          },500);
        });

      });
    </script>

  </body>
</html>
